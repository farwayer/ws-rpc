syntax = "proto3";

message Packet {
  uint32 jsonrpc = 1;
  repeated Message msgs = 2;
}

message Message {
  string method = 1;
  Value id = 2;
  Value params = 3;
  Value result = 4;
  Error error = 5;
}

message Error {
  sint32 code = 1;
  string message = 2;
  Value data = 3;
}

message Obj {
  map<string, Value> fields = 1;
}

message Value {
  oneof type {
    Null null = 1;
    int64 int = 2;
    double double = 3;
    string str = 4;
    bool bool = 5;
    Obj obj = 6;
    Array arr = 7;
  }
}

enum Null {
  NULL_VALUE = 0;
}

message Array {
  repeated Value items = 1;
}
